"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[325],{8325:function(t,e,a){a.d(e,{a:function(){return d}});var o=a(7378);function n(){return(n=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t}).apply(this,arguments)}var r=function(t,e){return t.querySelector(e)},i=function(t){void 0===t&&(t={});var e={};return Object.keys(t).forEach(function(a){void 0!==t[a]&&(e[a]=t[a])}),e},s={alwaysActive:!1,activeOffset:50,shadowOffset:50,shadowScale:1,duration:300,rotate:!0,rotateTouch:!0,rotateXMax:15,rotateYMax:15,rotateXInvert:!1,rotateYInvert:!1,stretchX:0,stretchY:0,stretchZ:0,commonOrigin:!0,shadow:!0,highlight:!0},c=["component","children","rootChildren","scaleChildren","rotateChildren","className","scaleClassName","rotateClassName","innerClassName"];function u(){return(u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t}).apply(this,arguments)}var l=["eventsEl","alwaysActive","activeOffset","shadowOffset","shadowScale","duration","rotate","rotateTouch","rotateXMax","rotateYMax","rotateXInvert","rotateYInvert","stretchX","stretchY","stretchZ","commonOrigin","shadow","highlight","onEnter","onLeave","onRotate"],p=function(t){var e={};return Object.keys(t).forEach(function(a){l.includes(a)||(e[a]=t[a])}),e},f=function(t){var e={};return Object.keys(t).forEach(function(a){l.includes(a)&&(e[a]=t[a])}),e};function d(t){var e=t.component,a=t.children,l=t.rootChildren,d=t.scaleChildren,h=t.rotateChildren,v=t.className,m=void 0===v?"":v,y=t.scaleClassName,g=void 0===y?"":y,O=t.rotateClassName,M=void 0===O?"":O,w=t.innerClassName,E=void 0===w?"":w,b=function(t,e){if(null==t)return{};var a,o,n={},r=Object.keys(t);for(o=0;o<r.length;o++)a=r[o],e.indexOf(a)>=0||(n[a]=t[a]);return n}(t,c),x=(0,o.useRef)(null),N=(0,o.useRef)(null),X=function(){for(var t=arguments.length,e=Array(t),a=0;a<t;a++)e[a]=arguments[a];return e.filter(function(t){return!!t}).join(" ")},Y=function(){var e,a,o,c,l,p,d,h,v,m,y,g,O,M,w,E,b,X,Y,_,C,L,T,A,R,j,k,I,P,D,F,S,q,Z,B,z,G;N.current=(void 0===(e=u({el:x.current},f(t)))&&(e={}),w=(M=e).el,E=M.eventsEl,b=e.isComponent,Y=(X={__atropos__:!0,params:n({},s,{onEnter:null,onLeave:null,onRotate:null},i(e||{})),destroyed:!1,isActive:!1}).params,_=[],!function t(){O=requestAnimationFrame(function(){_.forEach(function(t){if("function"==typeof t)t();else{var e=t.element,a=t.prop,o=t.value;e.style[a]=o}}),_.splice(0,_.length),t()})}(),C=function(t,e){_.push({element:t,prop:"transitionDuration",value:e})},L=function(t,e){_.push({element:t,prop:"transitionTimingFunction",value:e})},T=function(t,e){_.push({element:t,prop:"transform",value:e})},A=function(t,e){_.push({element:t,prop:"opacity",value:e})},R=function(t,e){_.push({element:t,prop:"transformOrigin",value:e})},j=function(t,e,a,o){return t.addEventListener(e,a,o)},k=function(t,e,a,o){return t.removeEventListener(e,a,o)},I=function(t){var e=t.rotateXPercentage,o=void 0===e?0:e,n=t.rotateYPercentage,r=void 0===n?0:n,i=t.duration,s=t.opacityOnly,c=t.easeOut,u=function(t){if(t.dataset.atroposOpacity&&"string"==typeof t.dataset.atroposOpacity)return t.dataset.atroposOpacity.split(";").map(function(t){return parseFloat(t)})};a.querySelectorAll("[data-atropos-offset], [data-atropos-opacity]").forEach(function(t){C(t,i),L(t,c?"ease-out":"");var e=u(t);if(0===o&&0===r)s||T(t,"translate3d(0, 0, 0)"),e&&A(t,e[0]);else{var a=parseFloat(t.dataset.atroposOffset)/100;if(Number.isNaN(a)||s||T(t,"translate3d("+-(-r*a)+"%, "+-(o*a)+"%, 0)"),e){var n=e[0];A(t,n+(e[1]-n)*Math.max(Math.abs(o),Math.abs(r))/100)}}})},P=function(t,e){var a,n=w!==E;if(p||(p=w.getBoundingClientRect()),n&&!d&&(d=E.getBoundingClientRect()),void 0===t&&void 0===e){var r=n?d:p;t=r.left+r.width/2,e=r.top+r.height/2}var i=0,s=0,c=p,u=c.top,l=c.left,f=c.width,h=c.height;if(n){var m=d,y=m.top,g=m.left,O=m.width,M=m.height,b=t-g,x=e-y;s=-(Y.rotateYMax*(b-(f/2+(l-g)))/(O-f/2)*1),i=Y.rotateXMax*(x-(h/2+(u-y)))/(M-h/2),a=t-l+"px "+(e-u)+"px"}else{var N=t-l,X=e-u;s=-(Y.rotateYMax*(N-f/2)/(f/2)*1),i=Y.rotateXMax*(X-h/2)/(h/2)}i=Math.min(Math.max(-i,-Y.rotateXMax),Y.rotateXMax),Y.rotateXInvert&&(i=-i),s=Math.min(Math.max(-s,-Y.rotateYMax),Y.rotateYMax),Y.rotateYInvert&&(s=-s);var _=i/Y.rotateXMax*100,j=s/Y.rotateYMax*100,k=(n?j/100*Y.stretchX:0)*(Y.rotateYInvert?-1:1),P=(n?_/100*Y.stretchY:0)*(Y.rotateXInvert?-1:1),D=n?Math.max(Math.abs(_),Math.abs(j))/100*Y.stretchZ:0;T(o,"translate3d("+k+"%, "+-P+"%, "+-D+"px) rotateX("+i+"deg) rotateY("+s+"deg)"),a&&Y.commonOrigin&&R(o,a),v&&(C(v,Y.duration+"ms"),L(v,"ease-out"),T(v,"translate3d("+-(.25*j)+"%, "+.25*_+"%, 0)"),A(v,Math.max(Math.abs(_),Math.abs(j))/100)),I({rotateXPercentage:_,rotateYPercentage:j,duration:Y.duration+"ms",easeOut:!0}),"function"==typeof Y.onRotate&&Y.onRotate(i,s)},D=function(){_.push(function(){return w.classList.add("atropos-active")}),C(o,Y.duration+"ms"),L(o,"ease-out"),T(c,"translate3d(0,0, "+Y.activeOffset+"px)"),C(c,Y.duration+"ms"),L(c,"ease-out"),h&&(C(h,Y.duration+"ms"),L(h,"ease-out")),X.isActive=!0},F=function(t){if(m=void 0,("pointerdown"!==t.type||"mouse"!==t.pointerType)&&("pointerenter"!==t.type||"mouse"===t.pointerType)){if("pointerdown"===t.type&&t.preventDefault(),y=t.clientX,g=t.clientY,Y.alwaysActive){p=void 0,d=void 0;return}D(),"function"==typeof Y.onEnter&&Y.onEnter()}},S=function(t){!1===m&&t.cancelable&&t.preventDefault()},q=function(t){if(Y.rotate&&X.isActive){if("mouse"!==t.pointerType){if(!Y.rotateTouch)return;t.preventDefault()}var e=t.clientX,a=t.clientY,o=e-y,n=a-g;if("string"==typeof Y.rotateTouch&&(0!==o||0!==n)&&void 0===m){if(o*o+n*n>=25){var r=180*Math.atan2(Math.abs(n),Math.abs(o))/Math.PI;m="scroll-y"===Y.rotateTouch?r>45:90-r>45}!1===m&&(w.classList.add("atropos-rotate-touch"),t.cancelable&&t.preventDefault())}"mouse"!==t.pointerType&&m||P(e,a)}},Z=function(t){if(p=void 0,d=void 0,X.isActive&&(!t||"pointerup"!==t.type||"mouse"!==t.pointerType)&&(!t||"pointerleave"!==t.type||"mouse"===t.pointerType)){if("string"==typeof Y.rotateTouch&&m&&w.classList.remove("atropos-rotate-touch"),Y.alwaysActive){P(),"function"==typeof Y.onRotate&&Y.onRotate(0,0),"function"==typeof Y.onLeave&&Y.onLeave();return}_.push(function(){return w.classList.remove("atropos-active")}),C(c,Y.duration+"ms"),L(c,""),T(c,"translate3d(0,0, 0px)"),h&&(C(h,Y.duration+"ms"),L(h,"")),v&&(C(v,Y.duration+"ms"),L(v,""),T(v,"translate3d(0, 0, 0)"),A(v,0)),C(o,Y.duration+"ms"),L(o,""),T(o,"translate3d(0,0,0) rotateX(0deg) rotateY(0deg)"),I({duration:Y.duration+"ms"}),X.isActive=!1,"function"==typeof Y.onRotate&&Y.onRotate(0,0),"function"==typeof Y.onLeave&&Y.onLeave()}},B=function(t){var e=t.target;!E.contains(e)&&e!==E&&X.isActive&&Z()},X.destroy=function(){X.destroyed=!0,cancelAnimationFrame(O),k(document,"click",B),k(E,"pointerdown",F),k(E,"pointerenter",F),k(E,"pointermove",q),k(E,"touchmove",S),k(E,"pointerleave",Z),k(E,"pointerup",Z),k(E,"lostpointercapture",Z),delete w.__atropos__},"string"==typeof w&&(w=r(document,w)),w&&(w.__atropos__||(void 0!==E?"string"==typeof E&&(E=r(document,E)):E=w,a=b?w.parentNode.host:w,Object.assign(X,{el:w}),o=r(w,".atropos-rotate"),c=r(w,".atropos-scale"),l=r(w,".atropos-inner"),w.__atropos__=X)),w&&E&&(Y.shadow&&((h=r(w,".atropos-shadow"))||((h=document.createElement("span")).classList.add("atropos-shadow"),z=!0),T(h,"translate3d(0,0,-"+Y.shadowOffset+"px) scale("+Y.shadowScale+")"),z&&o.appendChild(h)),Y.highlight&&((v=r(w,".atropos-highlight"))||((v=document.createElement("span")).classList.add("atropos-highlight"),G=!0),T(v,"translate3d(0,0,0)"),G&&l.appendChild(v)),Y.rotateTouch&&("string"==typeof Y.rotateTouch?w.classList.add("atropos-rotate-touch-"+Y.rotateTouch):w.classList.add("atropos-rotate-touch")),r(a,"[data-atropos-opacity]")&&I({opacityOnly:!0}),j(document,"click",B),j(E,"pointerdown",F),j(E,"pointerenter",F),j(E,"pointermove",q),j(E,"touchmove",S),j(E,"pointerleave",Z),j(E,"pointerup",Z),j(E,"lostpointercapture",Z),Y.alwaysActive&&(D(),P())),X)},_=function(){N.current&&(N.current.destroy(),N.current=null)};return(0,o.useEffect)(function(){return x.current&&Y(),function(){_()}},[]),(0,o.useEffect)(function(){return N.current&&(N.current.params.onEnter=t.onEnter,N.current.params.onLeave=t.onLeave,N.current.params.onRotate=t.onRotate),function(){N.current&&(N.current.params.onEnter=null,N.current.params.onLeave=null,N.current.params.onRotate=null)}}),o.createElement(void 0===e?"div":e,u({className:X("atropos",m)},p(b),{ref:x}),o.createElement("span",{className:X("atropos-scale",g)},o.createElement("span",{className:X("atropos-rotate",M)},o.createElement("span",{className:X("atropos-inner",E)},a,(t.highlight||void 0===t.highlight)&&o.createElement("span",{className:"atropos-highlight"})),h,(t.shadow||void 0===t.shadow)&&o.createElement("span",{className:"atropos-shadow"})),d),l)}}}]);